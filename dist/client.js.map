{"version":3,"file":"client.js","sourceRoot":"","sources":["../src/client.ts"],"names":[],"mappings":";;AAAA,+BAAiD;AAEjD,qEAA6D;AAC7D,2DAAmE;AACnE,mCAAiC;AAEjC,MAAM,MAAM,GAAkB,IAAI,kCAAa,CAAC,iBAAiB,EAAE,kBAAW,CAAC,cAAc,EAAE,CAAC,CAAC;AAEjG,IAAI,IAAY,CAAC;AACjB,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;IAC5B,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CACxB;KAAM;IACL,IAAI,GAAG,OAAO,CAAC;CAChB;AAED,MAAM,GAAG,GAAiB,IAAI,4BAAY,EAAE,CAAC;AAC7C,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAElB,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,GAAwB,EAAE,GAAe,EAAE,EAAE;IACjE,IAAI,GAAG,EAAE;QACP,cAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KACnB;IAED,cAAM,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC;AAC7C,CAAC,CAAC,CAAC","sourcesContent":["import { credentials, ServiceError } from 'grpc';\n\nimport { GreeterClient } from '../models/helloworld_grpc_pb';\nimport { HelloReply, HelloRequest } from '../models/helloworld_pb';\nimport { logger } from './utils';\n\nconst client: GreeterClient = new GreeterClient('localhost:50051', credentials.createInsecure());\n\nlet user: string;\nif (process.argv.length >= 3) {\n  user = process.argv[2];\n} else {\n  user = 'world';\n}\n\nconst req: HelloRequest = new HelloRequest();\nreq.setName(user);\n\nclient.sayHello(req, (err: ServiceError | null, res: HelloReply) => {\n  if (err) {\n    logger.error(err);\n  }\n\n  logger.info('Greeting:', res.getMessage());\n});\n"]}